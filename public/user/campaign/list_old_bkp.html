

<style>
   .m-l {
   margin-left: 5px;
   }
   /*.slider {
        width: 50%;
        margin: 100px auto;
    }*/
</style>
<style>
  .carousel-control {
    padding-top:10%;
    width:5%;
  }
  </style>
<script>
   $(document).ready(function(){
       $("#hide").click(function(){
           $(".e-campaingn").hide();
       });
       $("#show").click(function(){
           $(".e-campaingn").show();
       });
   });
</script>
<section ng-controller="CampaignAddController">
   <div class="campaign-page">
      <div class="container">
         <div class="row">
            <div class="col-md-12 col-sm-12">
               <!-- <div class="container list " id="table">
                  
                </div> -->
                <table class="mdl-data-table ml-table-bordered mdl-js-data-table pointer-table">
                    <colgroup>
                      <col class="auto-cell-size p-r-20">
                    </colgroup>
                    <thead>
                      <tr>
                        <th class="mdl-data-table__cell--non-numeric">Campaign Name</th>
                        <th class="mdl-data-table__cell--non-numeric">Start date</th>
                        <th class="mdl-data-table__cell--non-numeric">End date</th>
                        <th class="mdl-data-table__cell--non-numeric">Campaign Offers</th>
                        <th class="mdl-data-table__cell--non-numeric">Action</th>
                      </tr>
                    </thead>
                    <tbody ng-if="campaign_details.length" dir-paginate="campaign in campaign_details|itemsPerPage:10 track by $index" current-page="pagination.current">              
                      <tr>
                        <td ng-click="showOrHideAllOffer(campaign.id)">{{campaign.campaign_name}}</td>                
                        <td ng-click="showOrHideAllOffer(campaign.id)">
                          {{campaign.start_date.split('-')[1]+'/'+campaign.start_date.split('-')[2]+'/'+campaign.start_date.split('-')[0] }}   

                        </td>
                        <td ng-click="showOrHideAllOffer(campaign.id)">                  
                          {{campaign.end_date.split('-')[1]+'/'+campaign.end_date.split('-')[2]+'/'+campaign.end_date.split('-')[0] }} 
                        </td>
                        <td ng-click="showOrHideAllOffer(campaign.id)">{{campaign.total_offer}}<i class="fa fa-angle-down m-l" ng-if="campaignItemIndex == campaign.id" ></i><i class="fa fa-angle-up m-l" ng-if="campaignItemIndex != campaign.id"></i>
                        </td>
                        <td>                  
                          <img title="Edit Campaign" class="delete_row" ng-src="{{file_path}}images/edit.png" width="20" style="cursor:pointer" data-ng-click="redirect_edit(campaign.id, currentPageChanged);" />
                          
                          <img title="Delete Campaign" class="delete_row" ng-src="{{file_path}}images/delete.png" width="20" style="cursor:pointer" data-ng-click="delete_campaign(campaign.id);" />

                          <img title="Add Offer to this Campaign" class="delete_row" ng-src="{{file_path}}images/add_new.png" width="20" style="cursor:pointer" ng-click="addNewOffer(campaign.id)" />
                        </td>
                      </tr>
                      <tr ng-if="campaignItemIndex == campaign.id">
                        <td colspan="8">
                          <!-- <div class="campaign-main" ng-if="allOfferList.length">
                            <ul>
                              <li ng-repeat="offer in allOfferList">
                                <div class="single-campaign">
                                  <div class="product-view section-most">
                                    <a href="#">
                                        <img class="img-responsive" alt="{{offer.offer_description}}" src="{{offer.offer_image_path}}">
                                        <div class="product">
                                            <div class="product-title">{{offer.offer_description}}</div>
                                            <div class="product-savings">
                                              <p>{{offer.partner_settings.price_range_id}}</p>
                                              <i aria-hidden="true" class="fa fa-star"></i>
                                              <i aria-hidden="true" class="fa fa-star"></i>
                                              <i aria-hidden="true" class="fa fa-star"></i>
                                              <i aria-hidden="true" class="fa fa-star"></i>
                                              <span class="savings">
                                                <span ng-if="offer.value_calculate == 2 || offer.value_calculate == 4 || offer.value_calculate == 6"> ${{ offer.discount}}</span>
                                                <span ng-if="offer.value_calculate == 1 || offer.value_calculate == 3 || offer.value_calculate == 5"> {{ offer.discount}}%</span>
                                                <span ng-if="offer.value_calculate == 1 || offer.value_calculate == 2">OFF</span>
                                                <span ng-if="offer.value_calculate == 3 || offer.value_calculate == 4">DISCOUNT</span>
                                                <span ng-if="offer.value_calculate == 5 || offer.value_calculate == 6">SAVING</span>
                                              </span>
                                            </div>
                                            <div class="col-expires">*expires in {{offer.remaining_days}} days</div>
                                        </div>
                                    </a>
                                  </div>
                                
                                </div> 
                                <div class="single-camp-details">
                                  <span><i class="fa fa-eye" aria-hidden="true"></i> 1987</span>
                                  <span><input type="checkbox"> 274</span>
                                  <span title="Edit Campaign"><a href="#"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></span>
                                  <span ng-click="delete_offer(offer.id)" title="Delete Campaign"><a href="#"><i class="fa fa-trash-o" aria-hidden="true"></i></a></span>
                                  <span><a href="#"><i class="fa fa-line-chart" aria-hidden="true"></i></a></span>
                                </div>  
                              </li>
                              
                              <li>
                                <div class="single-campaign">
                                <div class="add-more">
                                  <a ng-click="addNewOffer(campaign.id)">Add new offer </br> to this Campaign</a>
                                
                                </div> 
                                </div> 
                              </li>
                            
                            </ul>
                          </div> -->
                          <div class="">
                              <div class="col-xs-12 col-sm-12 camp-tr">
                                 <div class="row">
                                    <div class="col-md-9 col-sm-9 no-padding">
                                <div id="myCarousel" class="carousel slide">
                                        <div class="carousel-inner">
                                        <div class="item active">
                                          <div class="col-sm-4 no-padding1">
                                            <div class="camp-dev">
                                                 <a value="1" class=" various fancybox.iframe put_href" href="campaign/index1.html" title="">
                                                 <img src="../images/pic2.jpg" alt="img">
                                                 </a>
                                                 <div class="campaign-heading">
                                                    Famigliaâ€™s
                                                 </div>
                                                 <div class="row">
                                                    <div class="col-md-8 col-sm-8">
                                                       <div class="off-percentage">53% OFF</div>
                                                       <div class="camp-location">
                                                          <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                          FBBC Hillcrest (1.8 miles)
                                                       </div>
                                                    </div>
                                                    <div class="col-md-4 col-sm-4">
                                                       <div class="before-price">$750</div>
                                                       <div class="after-price">$349</div>
                                                    </div>
                                                 </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="item">  
                                          <div class="col-sm-4 no-padding1">
                                            <div class="camp-dev">
                                               <img src="../images/pic2.jpg" alt="img">
                                               <div class="campaign-heading">
                                                   for 2 with welcome drinks
                                               </div>
                                               <div class="row">
                                                  <div class="col-md-8 col-sm-8">
                                                     <div class="off-percentage">53% OFF</div>
                                                     <div class="camp-location">
                                                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                        FBBC Hillcrest (1.8 miles)
                                                     </div>
                                                  </div>
                                                  <div class="col-md-4 col-sm-4">
                                                     <div class="before-price">$750</div>
                                                     <div class="after-price">$349</div>
                                                  </div>
                                               </div>
                                             </div>
                                          </div>
                                        </div>
                                        <div class="item">  
                                          <div class="col-sm-4 no-padding1">
                                            <div class="camp-dev">
                                             <img src="../images/pic2.jpg" alt="img">
                                             <div class="campaign-heading">
                                                drinks
                                             </div>
                                             <div class="row">
                                                <div class="col-md-8 col-sm-8">
                                                   <div class="off-percentage">53% OFF</div>
                                                   <div class="camp-location">
                                                      <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                      FBBC Hillcrest (1.8 miles)
                                                   </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                   <div class="before-price">$750</div>
                                                   <div class="after-price">$349</div>
                                                </div>
                                             </div>
                                           </div>
                                          </div>
                                        </div>
                                        <div class="item">  
                                          <div class="col-sm-4 no-padding1">
                                            <div class="camp-dev">
                                             <img src="../images/pic2.jpg" alt="img">
                                             <div class="campaign-heading">
                                                welcome drinks
                                             </div>
                                             <div class="row">
                                                <div class="col-md-8 col-sm-8">
                                                   <div class="off-percentage">53% OFF</div>
                                                   <div class="camp-location">
                                                      <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                      FBBC Hillcrest (1.8 miles)
                                                   </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                   <div class="before-price">$750</div>
                                                   <div class="after-price">$349</div>
                                                </div>
                                             </div>
                                           </div>
                                          </div>
                                        </div>
                                        <!-- <div class="item">  
                                          <div class="col-sm-3">
                                            <div class="">
                                             <img src="../images/pic2.jpg" alt="img">
                                             <div class="campaign-heading">
                                                Famigliaâ€™s Famous Dinner for 2 with welcome drinks
                                             </div>
                                             <div class="row">
                                                <div class="col-md-8 col-sm-8">
                                                   <div class="off-percentage">53% OFF</div>
                                                   <div class="camp-location">
                                                      <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                      FBBC Hillcrest (1.8 miles)
                                                   </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                   <div class="before-price">$750</div>
                                                   <div class="after-price">$349</div>
                                                </div>
                                             </div>
                                           </div>
                                          </div>
                                         </div> --> 
                                        </div>
                                        <a class="left carousel-control" href="#myCarousel" data-slide="prev">â€¹</a>

                                    <a class="right carousel-control" href="#myCarousel" data-slide="next">â€º</a>
                                     </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3">
                                    <div class="campaign-main">
                                      <ul>                      
                                        <li>
                                          <div class="single-campaign">
                                          <div class="add-more">
                                            <a ng-click="addNewOffer(campaign.id)">Add new offer </br>to this Campaign</a>
                                          </div> 
                                          </div> 
                                        </li>
                                      
                                      </ul>  
                                    </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                          <!-- <div class="campaign-main" ng-if="!allOfferList.length">
                            <ul>                      
                              <li>
                                <div class="single-campaign">
                                <div class="add-more">
                                  <a ng-click="addNewOffer(campaign.id)">Add new offer </br>to this Campaign</a>
                                </div> 
                                </div> 
                              </li>
                            
                            </ul>  
                          </div>  -->
                        </td>
                        <!-- <td colspan="4">
                          <div class="campaign-main" ng-if="!allOfferList.length">
                            <ul>                      
                              <li>
                                <div class="single-campaign">
                                <div class="add-more">
                                  <a ng-click="addNewOffer(campaign.id)">Add new offer </br>to this Campaign</a>
                                </div> 
                                </div> 
                              </li>
                            
                            </ul>  
                          </div> 
                        </td> -->
                      </tr>
                    </tbody>      
                    <tbody ng-if="campaign_details.length > 10">
                      <tr>
                        <td colspan="6" class="text-center">
                          <dir-pagination-controls
                            max-size="7"
                            direction-links="true"
                            boundary-links="true" >
                          </dir-pagination-controls>
                        </td>
                      </tr> 
                    </tbody>         
                    <tbody ng-if="!campaign_details.length">
                      <tr>
                        <td class="center" colspan="5">No data present</td>                
                      </tr>
                    </tbody> 
                              
                </table>
                <hr>
                <div class="tags m-t-20 ">
                  <!-- <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent blue-btn" href="#/campaign/add" >Add Campaign</a> -->
                  <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent blue-btn" ng-click="showAddCampaign()">Add Campaign</a>
                </div>
                <form name="f2" method="POST" enctype="multipart/form-data">
                  <input type="hidden" name="_token" value="{{ csrf_token() }}">
                  <div class="campaign-adding" ng-if="showAddCampaignDiv">
                     <div class="row">
                        <div class="col-md-6 col-sm-6">
                           <input class="form-control" type="text" placeholder="Campaign Name" ng-model="Campaign.c_name" id="c_name">
                        </div>
                        <div class="col-md-3 col-sm-3">
                           <input type="text" ng-model="promotion.c_s_date" class="mdl-textfield__input cal ng-pristine ng-valid hasDatepicker ng-touched" id="c_s_date" placeholder="Start Date" style="">
                        </div>
                        <div class="col-md-3 col-sm-3">
                           <input type="text" ng-model="Campaign.c_e_date" class="mdl-textfield__input cal ng-pristine ng-valid hasDatepicker ng-touched" id="c_e_date" placeholder="End Date" style="">
                        </div>
                     </div>
                     <div class="tags m-t-20 ">
                        <a class="done-btn" href="" ng-click = "addCampaign()">Done</a>
                        <a class="done-btn" href="" ng-click = "hideCampaignDiv()">Cancel</a>
                     </div>
                  </div>
                </form>
              </div>
          </div>
        </div>
    </div>
</section>
<!-- <div class="details-info">
   <div class="regular slider">
   <div>
   <img src="http://placehold.it/350x300?text=1">
   </div>
   <div>
   <img src="http://placehold.it/350x300?text=2">
   </div>
   <div>
   <img src="http://placehold.it/350x300?text=3">
   </div>
   <div>
   <img src="http://placehold.it/350x300?text=4">
   </div>
   <div>
   <img src="http://placehold.it/350x300?text=5">
   </div>
   <div>
   <img src="http://placehold.it/350x300?text=6">
   </div>
   </div>   
   
   </div> --> 
<script type="text/javascript">
   // $(function() {
   //     var $list = $('.list');    
   //     $list.find("tr").not('.accordion').hide();
   //     $list.find("tr").eq(0).show();
   //     $list.find(".accordion").click(function(){ 
   //     $(this).fadeTo("fast", 1) ;    
   //     $list.find('.accordion').not(this).siblings().fadeOut(500);
   //     $(this).siblings().fadeToggle(500);
   //     $(this).addClass('active');
   //     $list.find('.accordion').not(this).removeClass('active');
   //     $list.find('.accordion').not(this).addClass('no-opacity');
   //         $list.find('.accordion').not(this).hover(function(){
   //             $(this).fadeTo("fast", 1);}, function(){$(this).fadeTo("fast", 1);
   //         });
   //     });    
   // });
   
   
   // $(document).ready(function(){
   //    // $(".regular").slick({
   //    //   dots: false,
   //    //   infinite: true,
   //    //   slidesToShow: 2,
   //    //   slidesToScroll: 2
   //    // });
   //      $('#myCarousel').carousel({
   //        interval: 10000
   //      })
          
   //      $('#myCarousel').on('slid.bs.carousel', function() {
   //        //alert("slid");
   //      });
   // });
    
    // $(function() {
      
    //   $(".row.details-info").css('display','none');
    //     var $list = $('.list');    
    //     $list.find(".main-row").not('.accordion').hide();
    //     $list.find(".main-row").eq(0).show();
    //     $list.find(".accordion").click(function(){ 
    //     $(this).fadeTo("fast", 1) ;    
    //     $list.find('.accordion').not(this).siblings().fadeOut(500);
    //     $(this).siblings().fadeToggle(500);
    //     $(this).addClass('active');
    //     $list.find('.accordion').not(this).removeClass('active');
    //     $list.find('.accordion').not(this).addClass('no-opacity');
    //     $list.find('.accordion').not(this).hover(function(){
    //        $(this).fadeTo("fast", 1);}, function(){$(this).fadeTo("fast", 1);
    //     });
    //   });    
    // });
</script>

<style>

/*.carousel-inner .active.left { left: -25%; }
.carousel-inner .next        { left:  25%; }
.carousel-inner .prev    { left: -25%; }
.carousel-control        { width:  4%; }
.carousel-control.left,.carousel-control.right {margin-left:15px;background-image:none;}
img{max-width: 100%;}

.no-padding1{padding: 0 5px; }
.camp-dev{background: #F1F1F1}*/

</style>


<script type="text/javascript">
  $('#myCarousel').carousel({
  interval: 4000
})

$('.carousel .item').each(function(){
  var next = $(this).next();
  if (!next.length) {
    next = $(this).siblings(':first');
  }
  next.children(':first-child').clone().appendTo($(this));
  
  for (var i=0;i<1;i++) {
    next=next.next();
    if (!next.length) {
      next = $(this).siblings(':first');
    }
    
    next.children(':first-child').clone().appendTo($(this));
  }
});

</script>
<!-- <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script> -->



